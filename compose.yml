version: '3.8'

services:
  newsnewt:
    build:
      context: .
      dockerfile: dockerfile
    container_name: newsnewt
    restart: unless-stopped
    ports:
      - "3000:3000"
    environment:
      - CRAWL_CONCURRENCY=${CRAWL_CONCURRENCY:-3}
      - LOG_LEVEL=${LOG_LEVEL:-INFO}
      - PLAYWRIGHT_HEADLESS=${PLAYWRIGHT_HEADLESS:-true}
      - ENABLE_STEALTH=${ENABLE_STEALTH:-true}
      - TZ=${TZ:-UTC}
    volumes:
      - ./logs:/app/logs
    networks:
      - newsnewt-network

networks:
  newsnewt-network:
    driver: bridge

